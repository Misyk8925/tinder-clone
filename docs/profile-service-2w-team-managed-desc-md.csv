Issue Type,External ID,Summary,Description,Labels,Priority,Story point estimate,Epic Name,Parent
Epic,EP-MVP-2W,EP: 2-week MVP — Profile Service (Spring Boot + Spring Cloud),"Пет-проект: 2-недельный MVP — профили (CRUD), discovery, упрощённая аутентификация, Actuator/Micrometer, CI и Spring Cloud (Eureka/Config/Gateway).

### Acceptance criteria (BDD)
Given MVP timeline 2 weeks
When delivering service
Then epic contains all MVP stories","mvp-2w,spring-boot,spring-cloud,tdd",High,,EP: 2-week MVP — Profile Service (Spring Boot + Spring Cloud),
Story,S-MVP-01,Bootstrap: Spring Boot skeleton + Flyway + OpenAPI,"Инициализация проекта: контроллер/сервис/репозиторий, springdoc-openapi, Flyway, профили env (dev,test).

### Acceptance criteria (BDD)
Given новый проект
When приложение стартует
Then /actuator/health=UP и Swagger UI на /swagger-ui доступен","spring-boot,bootstrap,openapi,flyway",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-01-1,TDD: Red tests,"Подзадача для S-MVP-01: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","spring-boot,bootstrap,openapi,flyway,tdd",Medium,,,S-MVP-01
Sub-task,T-S-MVP-01-2,TDD: Green impl,"Подзадача для S-MVP-01: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","spring-boot,bootstrap,openapi,flyway,tdd",Medium,,,S-MVP-01
Sub-task,T-S-MVP-01-3,TDD: Refactor,"Подзадача для S-MVP-01: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","spring-boot,bootstrap,openapi,flyway,tdd",Medium,,,S-MVP-01
Sub-task,T-S-MVP-01-4,TDD: Negative & edge,"Подзадача для S-MVP-01: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","spring-boot,bootstrap,openapi,flyway,tdd",Medium,,,S-MVP-01
Sub-task,T-S-MVP-01-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-01: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","spring-boot,bootstrap,openapi,flyway,tdd",Medium,,,S-MVP-01
Story,S-MVP-02,docker-compose: Postgres + Eureka + Config + Gateway + Profile,"Единый compose для локального запуска стека.

### Acceptance criteria (BDD)
Given docker compose up
When обращаемся к gateway
Then маршруты работают; все сервисы в статусе UP","docker,compose,local",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-02-1,TDD: Red tests,"Подзадача для S-MVP-02: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","docker,compose,local,tdd",Medium,,,S-MVP-02
Sub-task,T-S-MVP-02-2,TDD: Green impl,"Подзадача для S-MVP-02: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","docker,compose,local,tdd",Medium,,,S-MVP-02
Sub-task,T-S-MVP-02-3,TDD: Refactor,"Подзадача для S-MVP-02: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","docker,compose,local,tdd",Medium,,,S-MVP-02
Sub-task,T-S-MVP-02-4,TDD: Negative & edge,"Подзадача для S-MVP-02: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","docker,compose,local,tdd",Medium,,,S-MVP-02
Sub-task,T-S-MVP-02-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-02: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","docker,compose,local,tdd",Medium,,,S-MVP-02
Story,S-MVP-03,Config Server (git backend) + Profile как Config Client,"Config Server (git); профиль-сервис как client (fail-fast, /actuator/refresh).

### Acceptance criteria (BDD)
Given config-server запущен и есть git-репо конфигов
When GET /{app}/{profile}
Then YAML; профиль-сервис читает настройки при старте","spring-cloud,config",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-03-1,TDD: Red tests,"Подзадача для S-MVP-03: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","spring-cloud,config,tdd",Medium,,,S-MVP-03
Sub-task,T-S-MVP-03-2,TDD: Green impl,"Подзадача для S-MVP-03: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","spring-cloud,config,tdd",Medium,,,S-MVP-03
Sub-task,T-S-MVP-03-3,TDD: Refactor,"Подзадача для S-MVP-03: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","spring-cloud,config,tdd",Medium,,,S-MVP-03
Sub-task,T-S-MVP-03-4,TDD: Negative & edge,"Подзадача для S-MVP-03: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","spring-cloud,config,tdd",Medium,,,S-MVP-03
Sub-task,T-S-MVP-03-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-03: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","spring-cloud,config,tdd",Medium,,,S-MVP-03
Story,S-MVP-04,Eureka Server + регистрация Profile Service,"Eureka Server; регистрация profile-service.

### Acceptance criteria (BDD)
Given eureka запущен
When открываем дашборд
Then profile-service в статусе UP","spring-cloud,eureka",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-04-1,TDD: Red tests,"Подзадача для S-MVP-04: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","spring-cloud,eureka,tdd",Medium,,,S-MVP-04
Sub-task,T-S-MVP-04-2,TDD: Green impl,"Подзадача для S-MVP-04: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","spring-cloud,eureka,tdd",Medium,,,S-MVP-04
Sub-task,T-S-MVP-04-3,TDD: Refactor,"Подзадача для S-MVP-04: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","spring-cloud,eureka,tdd",Medium,,,S-MVP-04
Sub-task,T-S-MVP-04-4,TDD: Negative & edge,"Подзадача для S-MVP-04: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","spring-cloud,eureka,tdd",Medium,,,S-MVP-04
Sub-task,T-S-MVP-04-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-04: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","spring-cloud,eureka,tdd",Medium,,,S-MVP-04
Story,S-MVP-05,Gateway маршрут /api/profiles/** через serviceId,"Spring Cloud Gateway проксирует запросы через Eureka.

### Acceptance criteria (BDD)
Given gateway+eureka+profile-service
When вызываем /api/profiles/**
Then запрос уходит в профиль-сервис","spring-cloud,gateway",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-05-1,TDD: Red tests,"Подзадача для S-MVP-05: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","spring-cloud,gateway,tdd",Medium,,,S-MVP-05
Sub-task,T-S-MVP-05-2,TDD: Green impl,"Подзадача для S-MVP-05: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","spring-cloud,gateway,tdd",Medium,,,S-MVP-05
Sub-task,T-S-MVP-05-3,TDD: Refactor,"Подзадача для S-MVP-05: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","spring-cloud,gateway,tdd",Medium,,,S-MVP-05
Sub-task,T-S-MVP-05-4,TDD: Negative & edge,"Подзадача для S-MVP-05: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","spring-cloud,gateway,tdd",Medium,,,S-MVP-05
Sub-task,T-S-MVP-05-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-05: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","spring-cloud,gateway,tdd",Medium,,,S-MVP-05
Story,S-MVP-06,Simple auth: X-User-Id header,"SecurityFilterChain; извлекать X-User-Id в SecurityContext.

### Acceptance criteria (BDD)
Given нет X-User-Id
When защищённый запрос
Then 401; при корректном заголовке — 200","security,lean",Medium,2,,EP-MVP-2W
Sub-task,T-S-MVP-06-1,TDD: Red tests,"Подзадача для S-MVP-06: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","security,lean,tdd",Medium,,,S-MVP-06
Sub-task,T-S-MVP-06-2,TDD: Green impl,"Подзадача для S-MVP-06: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","security,lean,tdd",Medium,,,S-MVP-06
Sub-task,T-S-MVP-06-3,TDD: Refactor,"Подзадача для S-MVP-06: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","security,lean,tdd",Medium,,,S-MVP-06
Sub-task,T-S-MVP-06-4,TDD: Negative & edge,"Подзадача для S-MVP-06: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","security,lean,tdd",Medium,,,S-MVP-06
Sub-task,T-S-MVP-06-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-06: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","security,lean,tdd",Medium,,,S-MVP-06
Story,S-MVP-07,Create profile (POST /api/v1/profiles),"name, age>=18, bio<=500, location; валидация; JPA.

### Acceptance criteria (BDD)
Given валидный X-User-Id
When POST /api/v1/profiles
Then 201 + JSON; запись создана","profiles,api",Medium,5,,EP-MVP-2W
Sub-task,T-S-MVP-07-1,TDD: Red tests,"Подзадача для S-MVP-07: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","profiles,api,tdd",Medium,,,S-MVP-07
Sub-task,T-S-MVP-07-2,TDD: Green impl,"Подзадача для S-MVP-07: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","profiles,api,tdd",Medium,,,S-MVP-07
Sub-task,T-S-MVP-07-3,TDD: Refactor,"Подзадача для S-MVP-07: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","profiles,api,tdd",Medium,,,S-MVP-07
Sub-task,T-S-MVP-07-4,TDD: Negative & edge,"Подзадача для S-MVP-07: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","profiles,api,tdd",Medium,,,S-MVP-07
Sub-task,T-S-MVP-07-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-07: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","profiles,api,tdd",Medium,,,S-MVP-07
Story,S-MVP-08,Get profile by ID (GET /api/v1/profiles/{id}),"Возврат профиля по id.

### Acceptance criteria (BDD)
Given существующий id
When GET /api/v1/profiles/{id}
Then 200; JSON соответствует схеме","profiles,api",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-08-1,TDD: Red tests,"Подзадача для S-MVP-08: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","profiles,api,tdd",Medium,,,S-MVP-08
Sub-task,T-S-MVP-08-2,TDD: Green impl,"Подзадача для S-MVP-08: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","profiles,api,tdd",Medium,,,S-MVP-08
Sub-task,T-S-MVP-08-3,TDD: Refactor,"Подзадача для S-MVP-08: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","profiles,api,tdd",Medium,,,S-MVP-08
Sub-task,T-S-MVP-08-4,TDD: Negative & edge,"Подзадача для S-MVP-08: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","profiles,api,tdd",Medium,,,S-MVP-08
Sub-task,T-S-MVP-08-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-08: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","profiles,api,tdd",Medium,,,S-MVP-08
Story,S-MVP-09,Update profile (PUT /api/v1/profiles/{id}),"Редактирование полей; проверка владения по X-User-Id.

### Acceptance criteria (BDD)
Given профиль принадлежит пользователю
When PUT /api/v1/profiles/{id}
Then 200; обновлено","profiles,api",Medium,5,,EP-MVP-2W
Sub-task,T-S-MVP-09-1,TDD: Red tests,"Подзадача для S-MVP-09: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","profiles,api,tdd",Medium,,,S-MVP-09
Sub-task,T-S-MVP-09-2,TDD: Green impl,"Подзадача для S-MVP-09: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","profiles,api,tdd",Medium,,,S-MVP-09
Sub-task,T-S-MVP-09-3,TDD: Refactor,"Подзадача для S-MVP-09: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","profiles,api,tdd",Medium,,,S-MVP-09
Sub-task,T-S-MVP-09-4,TDD: Negative & edge,"Подзадача для S-MVP-09: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","profiles,api,tdd",Medium,,,S-MVP-09
Sub-task,T-S-MVP-09-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-09: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","profiles,api,tdd",Medium,,,S-MVP-09
Story,S-MVP-10,Soft delete (DELETE /api/v1/profiles/{id}),"isDeleted=true; скрывать из выборок.

### Acceptance criteria (BDD)
Given профиль существует и принадлежит пользователю
When DELETE /api/v1/profiles/{id}
Then 204; isDeleted=true","profiles,api",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-10-1,TDD: Red tests,"Подзадача для S-MVP-10: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","profiles,api,tdd",Medium,,,S-MVP-10
Sub-task,T-S-MVP-10-2,TDD: Green impl,"Подзадача для S-MVP-10: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","profiles,api,tdd",Medium,,,S-MVP-10
Sub-task,T-S-MVP-10-3,TDD: Refactor,"Подзадача для S-MVP-10: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","profiles,api,tdd",Medium,,,S-MVP-10
Sub-task,T-S-MVP-10-4,TDD: Negative & edge,"Подзадача для S-MVP-10: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","profiles,api,tdd",Medium,,,S-MVP-10
Sub-task,T-S-MVP-10-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-10: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","profiles,api,tdd",Medium,,,S-MVP-10
Story,S-MVP-11,Discover by age + pagination,"Фильтрация по возрасту и пагинация; исключать isDeleted.

### Acceptance criteria (BDD)
Given разные возраста
When GET /profiles?ageMin&ageMax&page&size
Then 200; фильтрация+пагинация корректны","discovery,api",Medium,5,,EP-MVP-2W
Sub-task,T-S-MVP-11-1,TDD: Red tests,"Подзадача для S-MVP-11: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","discovery,api,tdd",Medium,,,S-MVP-11
Sub-task,T-S-MVP-11-2,TDD: Green impl,"Подзадача для S-MVP-11: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","discovery,api,tdd",Medium,,,S-MVP-11
Sub-task,T-S-MVP-11-3,TDD: Refactor,"Подзадача для S-MVP-11: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","discovery,api,tdd",Medium,,,S-MVP-11
Sub-task,T-S-MVP-11-4,TDD: Negative & edge,"Подзадача для S-MVP-11: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","discovery,api,tdd",Medium,,,S-MVP-11
Sub-task,T-S-MVP-11-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-11: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","discovery,api,tdd",Medium,,,S-MVP-11
Story,S-MVP-12,Actuator + Micrometer: базовые метрики,"Таймеры и счётчики CRUD/discover; /actuator/health.

### Acceptance criteria (BDD)
Given приложение запущено
When GET /actuator/health
Then UP; метрики доступны","observability,actuator,micrometer",Medium,2,,EP-MVP-2W
Sub-task,T-S-MVP-12-1,TDD: Red tests,"Подзадача для S-MVP-12: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","observability,actuator,micrometer,tdd",Medium,,,S-MVP-12
Sub-task,T-S-MVP-12-2,TDD: Green impl,"Подзадача для S-MVP-12: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","observability,actuator,micrometer,tdd",Medium,,,S-MVP-12
Sub-task,T-S-MVP-12-3,TDD: Refactor,"Подзадача для S-MVP-12: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","observability,actuator,micrometer,tdd",Medium,,,S-MVP-12
Sub-task,T-S-MVP-12-4,TDD: Negative & edge,"Подзадача для S-MVP-12: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","observability,actuator,micrometer,tdd",Medium,,,S-MVP-12
Sub-task,T-S-MVP-12-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-12: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","observability,actuator,micrometer,tdd",Medium,,,S-MVP-12
Story,S-MVP-13,CI: GitHub Actions + Jacoco≥70% + Testcontainers,"Build+тесты; покрытие 70%; Postgres Testcontainers.

### Acceptance criteria (BDD)
Given открыт PR
When запускается workflow
Then шаги зелёные; покрытие ≥70%","ci-cd,jacoco,testcontainers",Medium,3,,EP-MVP-2W
Sub-task,T-S-MVP-13-1,TDD: Red tests,"Подзадача для S-MVP-13: Red tests

### Acceptance criteria (BDD)
Написать падающие unit/api тесты (JUnit5, Spring MVC Test/RestAssured).","ci-cd,jacoco,testcontainers,tdd",Medium,,,S-MVP-13
Sub-task,T-S-MVP-13-2,TDD: Green impl,"Подзадача для S-MVP-13: Green impl

### Acceptance criteria (BDD)
Минимальная реализация для прохождения тестов.","ci-cd,jacoco,testcontainers,tdd",Medium,,,S-MVP-13
Sub-task,T-S-MVP-13-3,TDD: Refactor,"Подзадача для S-MVP-13: Refactor

### Acceptance criteria (BDD)
Рефакторинг/очистка кода без изменения поведения.","ci-cd,jacoco,testcontainers,tdd",Medium,,,S-MVP-13
Sub-task,T-S-MVP-13-4,TDD: Negative & edge,"Подзадача для S-MVP-13: Negative & edge

### Acceptance criteria (BDD)
Негативные/пограничные сценарии (валидация, 4xx/5xx).","ci-cd,jacoco,testcontainers,tdd",Medium,,,S-MVP-13
Sub-task,T-S-MVP-13-5,TDD: Docs & OpenAPI,"Подзадача для S-MVP-13: Docs & OpenAPI

### Acceptance criteria (BDD)
Обновить springdoc-openapi и README/ADR.","ci-cd,jacoco,testcontainers,tdd",Medium,,,S-MVP-13
